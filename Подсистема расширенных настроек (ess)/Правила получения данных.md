# Правила получения данных

1. Справочник "ППД"
2. Справочник "Настроеки ППД"
3. Регистр сведений "Настройки получения значений"

## Описание Правила

Справочник служит для хранения и редактирования схемы компоновки данных. Вариант выполнения правила служит для определения способа получения данных: 
1. *выполнение схемы* (простое выполнение скд с настройкой)
2. *выполнение запроса* (выполнение запроса, полученного при сохранении настройки) возможно только при простой схеме(один набор данных, нет расчетных полей в схеме и в настройке). 

Режим работы указывает, где находятся настройки и какие данные будут возвращены:
- *Стандартный вариант*. Настройка указывается при выполнении правила, возвращаются данные, полученные схемой.
- *По списку настроек*. Настройки задаются в регистре «Настройки получения значений», возвращается значение, указанное из колонки «результат», если при выполнении правила с текущей настройкой получена хотя бы одна строка.
- *Расширенный*. Происходит выполнение указанных правил и агрегация результата.

__*Игнорировать структуру*__ служит для очистки структуры схемы при выполнении и добавления «детальных записей». 
Тип результат определяется реквизитами __*Имя колонки*__, __*Единственное значение*__: 

+ __*Имя колонки*__ *не задано*:
	- Флаг __*Единственное значение*__ *установлен* – структура из строки таблицы-результата
	- Флаг __*Единственное значение*__ *сброшен* – таблица значений
+ __*Имя колонки*__ *задано*:
	- Флаг __*Единственное значение*__ *установлен* – одно значение
	- Флаг __*Единственное значение*__ *сброшен* – массив
  
![ППД](/images/ППД.png)
  
## Описание Настройки правила

Справочник хранит настройки схемы компоновки данных и, если вариант выполнения запрос, то текст запроса и его параметры.

 ![НАстройка ППД](/images/НастройкаППД.png)

## Тестирование правила

Тестирование осуществляется в форме списка правил на вкладке «Диагностика»

![Диагоностика ППД](/images/ДиагностикаППД.png)
 
